(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"3e49":function(e,t,o){},"457a":function(e,t,o){"use strict";var n=o("3e49"),a=o.n(n);a.a},"80d2":function(e,t,o){"use strict";(function(e){o("34cb");n(o("66fd"));var t=n(o("d3f4"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("543d")["createPage"])},"832a":function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(o("ed7b")),a=s(o("b31d")),i=s(o("b60c")),r=s(o("08dc"));function s(e){return e&&e.__esModule?e:{default:e}}var u={data:function(){return{isShow:!1,userData:{},WX_AUTH_URL:"https://api.weixin.qq.com/sns/jscode2session",jsCode:""}},onShow:function(){var e=JSON.parse(n.default.localStorage.get("userInfo"));console.log(e),this.userData=e,wx.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]})},onLoad:function(){var e=JSON.parse(n.default.localStorage.get("userInfo"));console.log(e),this.userData=e},methods:{getPhone:function(){var t=this;i.default.getPhone().then((function(o){if(0===o.code){var a={phone:o.data,isLogin:!0};n.default.localStorage.set("phoneInfo",JSON.stringify(a)),e.navigateBack()}else t.isShow=!0}))},bindPhone:function(t){var o={phone:t,isLogin:!0};i.default.bindPhone({phone:t}).then((function(t){0===t.code?(e.showToast({title:"手机号绑定成功!",icon:"none",position:"bottom"}),n.default.localStorage.set("phoneInfo",JSON.stringify(o)),e.navigateBack()):1===t.code&&e.showToast({title:"手机号绑定失败!",icon:"none",position:"bottom"})}))},initPhone:function(){var t=this,o=n.default.localStorage.get("maid");e.login({success:function(e){t.jsCode=e.code;var a={code:t.jsCode,avatarUrl:t.userData.avatarUrl,maid:o,city:t.userData.city,gender:t.userData.gender,nickName:t.userData.nickName,province:t.userData.province};i.default.getToken(a).then((function(e){0===e.code&&(n.default.localStorage.set("token",e.data.token),t.getPhone())}))}})},getPhoneNumber:function(t){var o=this,s=(this.WX_AUTH_URL,a.default.AppId,a.default.AppSecret,this.jsCode,n.default.localStorage.get("maid"));console.log("maid",s),e.login({success:function(s){o.jsCode=s.code;o.jsCode,o.userData.avatarUrl,o.userData.city,o.userData.gender,o.userData.nickName,o.userData.province,n.default.localStorage.get("token");var u=n.default.localStorage.get("session_key"),c=new r.default(a.default.AppId,u),l=c.decryptData(t.target.encryptedData,t.target.iv),d={phone:l.phoneNumber,isLogin:!0};i.default.bindPhone({phone:d.phone}).then((function(t){0===t.code?e.showToast({title:"手机号绑定成功!",icon:"none",position:"bottom"}):1===t.code&&(e.showToast({title:"手机号绑定失败!",icon:"none",position:"bottom"}),e.navigateBack()),n.default.localStorage.set("phoneInfo",JSON.stringify(d)),e.switchTab({url:"../me/me"})}))}})}}};t.default=u}).call(this,o("543d")["default"])},9895:function(e,t,o){"use strict";var n;o.d(t,"b",(function(){return a})),o.d(t,"c",(function(){return i})),o.d(t,"a",(function(){return n}));var a=function(){var e=this,t=e.$createElement;e._self._c},i=[]},a206:function(e,t,o){"use strict";o.r(t);var n=o("832a"),a=o.n(n);for(var i in n)"default"!==i&&function(e){o.d(t,e,(function(){return n[e]}))}(i);t["default"]=a.a},d3f4:function(e,t,o){"use strict";o.r(t);var n=o("9895"),a=o("a206");for(var i in a)"default"!==i&&function(e){o.d(t,e,(function(){return a[e]}))}(i);o("457a");var r,s=o("f0c5"),u=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,"63980d96",null,!1,n["a"],r);t["default"]=u.exports}},[["80d2","common/runtime","common/vendor"]]]);